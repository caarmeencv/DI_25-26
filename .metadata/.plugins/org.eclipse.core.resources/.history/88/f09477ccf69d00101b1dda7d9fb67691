package com.jdojo.intro;

import java.util.Random;

import javafx.application.Application;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;

public class AdivinhaONumero extends Application {

	int aleatorio = new Random().nextInt(100 - 0 + 1) + 0;

	int contador = 0;

	public static void main(String[] args) {
		Application.launch(args);
	}

	@Override
	public void start(Stage stage) throws Exception {

		VBox root = new VBox(10);

		// o enunciado do xogo
		Label lblEnunciado = new Label("Intenta adiviñar o número secreto entre o 1 e o 100");
		// o mensaje dependendo do boton marcado
		Label msg = new Label();
		// o mensaje dos intentos realizados
		Label msgContador = new Label();
		// onde imos poñer o numero
		TextField fld = new TextField();
		// os botons que aparecen
		Button btnProba = new Button("Proba");
		Button btnReiniciar = new Button("Reiniciar Xogo");
		Button btnRendirse = new Button("Rendirse");

		// accion do boton de probar
		btnProba.setOnAction(e -> {
			contador++;
			int numero = Integer.parseInt(fld.getText());
			if (aleatorio > numero && numero >= 0) {
				msg.setText("O número é mais alto");
			} else if (aleatorio < numero && numero <= 100) {
				msg.setText("O número é mais baixo");
			} else if (numero == aleatorio) {
				msg.setText("Correcto, o numero e: " + aleatorio);
				msg.setStyle("-fx-backgroud-color: lightgreen;");
			} else {
				msg.setText("Erro, ese numero esta fora do rango");
			}
			msgContador.setText("Intentos: " + contador);
		});

		// accion do boton de rendirse
		btnRendirse.setOnAction(e -> {
			msg.setText("O número secreto era: " + aleatorio);
			msgContador.setText(" ");
		});

		// accion do boton reiniciar
		btnReiniciar.setOnAction(e -> {
			msg.setText("Xogo reiniciado");
			
		});
		;
		
		

		root.getChildren().addAll(lblEnunciado, fld, btnProba, btnReiniciar, btnRendirse, msg, msgContador);

		Scene scene = new Scene(root, 300, 300);
		stage.setScene(scene);
		stage.setTitle("Adiviña o numero");
		stage.show();

	}

}